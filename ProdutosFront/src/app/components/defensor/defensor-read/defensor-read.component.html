<mat-card>
  <div style="width: 550px; margin-left: 950px; font-size: small">
    <mat-card-title style="font-size: small"><b>Usuário: </b>{{ this.nomeLogado }}</mat-card-title>
  </div>
  <div style="height: 50px; margin-left: 20px;">
    <mat-card-title><b>Consulta de Defensores</b></mat-card-title>
  </div>
    <div>
        <form>

            <mat-form-field appearance="outline" style="width: 250px; margin-left: 20px; margin-right: 30px;">
                <mat-label >Nº da Permissão</mat-label>
                <input type="number" matInput placeholder="Nº da Permissão" style="margin-right: 20px;" [(ngModel)]="defensorFiltro.numeroPermissao" name="numeroPermissao">
                <button mat-button *ngIf="defensorFiltro.numeroPermissao" matSuffix aria-label="Clear" (click)="defensorFiltro.numeroPermissao=''">
                    <i class="material-icons black v-middle">
                        close
                    </i>
                </button>
            </mat-form-field>

            <mat-form-field appearance="outline" style="width: 550px; margin-left: 20px; margin-right: 30px;">
              <mat-label >Nome Defensor</mat-label>
              <input matInput placeholder="Nome Defensor" style="margin-right: 20px;" [(ngModel)]="defensorFiltro.nomeDefensor" name="nomeDefensor">
              <button mat-button *ngIf="defensorFiltro.nomeDefensor" matSuffix aria-label="Clear" (click)="defensorFiltro.nomeDefensor=''">
                <i class="material-icons black v-middle">
                  close
                </i>
              </button>
            </mat-form-field>

            <mat-form-field appearance="outline" style="width: 250px; margin-left: 20px; margin-right: 30px;">
              <mat-label >CPF Defensor</mat-label>
              <input type="number" matInput placeholder="CPF Defensor" style="margin-right: 20px;" [(ngModel)]="defensorFiltro.cpfDefensor" name="cpfDefensor">
              <button mat-button *ngIf="defensorFiltro.cpfDefensor" matSuffix aria-label="Clear" (click)="defensorFiltro.cpfDefensor=''">
                <i class="material-icons black v-middle">
                  close
                </i>
              </button>
            </mat-form-field>

            <mat-form-field appearance="outline" style="width: 250px; margin-left: 20px; margin-right: 30px;">
              <mat-label >CNH Defensor</mat-label>
              <input type="number" matInput placeholder="CNH Defensor" style="margin-right: 20px;" [(ngModel)]="defensorFiltro.cnhDefensor" name="cnhDefensor">
              <button mat-button *ngIf="defensorFiltro.cnhDefensor" matSuffix aria-label="Clear" (click)="defensorFiltro.cnhDefensor=''">
                <i class="material-icons black v-middle">
                  close
                </i>
              </button>
            </mat-form-field>

            <mat-form-field appearance="outline" style="width: 550px; margin-left: 20px; margin-right: 30px;">
              <mat-label >Nome Permissionário</mat-label>
              <input matInput placeholder="Nome Permissionário" style="margin-right: 20px;" [(ngModel)]="defensorFiltro.nomePermissionario" name="nomePermissionario">
              <button mat-button *ngIf="defensorFiltro.nomePermissionario" matSuffix aria-label="Clear" (click)="defensorFiltro.nomePermissionario=''">
                <i class="material-icons black v-middle">
                  close
                </i>
              </button>
            </mat-form-field>

            <mat-form-field appearance="outline" style="width: 250px; margin-left: 20px; margin-right: 30px;">
              <mat-label >CPF Permissionário</mat-label>
              <input type="number" matInput placeholder="CPF Permissionário" style="margin-right: 20px;" [(ngModel)]="defensorFiltro.cpfPermissionario" name="cpfPermissionario">
              <button mat-button *ngIf="defensorFiltro.cpfPermissionario" matSuffix aria-label="Clear" (click)="defensorFiltro.cpfPermissionario=''">
                <i class="material-icons black v-middle">
                  close
                </i>
              </button>
            </mat-form-field>

        </form>
    </div>
</mat-card>
<br>
<div class="btn-toolbar" style="float: right;">
    <div class="btn-group">
      <button color="primary" class="buttonConsultar" style="width: 200px; margin-left: 30px;" mat-raised-button (click) = "consultarDefensoresComFiltros()">
        Consultar
      </button>
    </div>
    <div class="btn-group">
        <button style="width: 200px; background-color: #04AA6D;"  class="buttonInserir" mat-raised-button (click) = "navegarInserirDefensor()">
            Novo Defensor
        </button>
    </div>
    <div class="btn-group">
      <button style="width: 200px; background-color: darkgray;"  class="buttonVoltar" mat-raised-button (click) = "voltarPaginaPrincipal()">
        Voltar
      </button>
    </div>
</div>
<br>
<br>
<br>
<div class="mat-elevation-z4">
    <table class="table table-striped table-hover" style="outline-color: black;">
         <thead style="background-color: gray;">
            <tr style="color: white;">
              <th style="text-align: left;">Nº Permissão</th>
              <th style="text-align: left;">Nome Defensor</th>
              <th style="text-align: center;">CPF Defensor</th>
              <th style="text-align: center;">CNH Defensor</th>
              <th style="text-align: center;">UF Defensor</th>
              <th style="text-align: center;">Cidade Defensor</th>
              <th style="text-align: center;">Status</th>
              <th style="text-align: center;">Ações</th>
            </tr>
         </thead>
         <tbody>
            <tr *ngFor="let row of defensores | paginate: { itemsPerPage: pageSize, currentPage: pageIndex }">
              <td style="text-align: left;">{{row.numeroPermissao}}</td>
              <td style="text-align: left;">{{row.nomeDefensor}}</td>
              <td style="text-align: center;">{{row.cpfDefensor}}</td>
              <td style="text-align: center;">{{row.cnhDefensor}}</td>
              <td style="text-align: center;">{{row.ufDefensor}}</td>
              <td style="text-align: center;">{{row.cidadeDefensor}}</td>
              <td style="text-align: center;">{{row.status}}</td>

              <td style="text-align: center;">
                <button [disabled]="row.status == 'INATIVO'" mat-icon-button color="primary" (click) = "navegarEditarDefensor(row)" aria-label="Editar Defensor">
                    <mat-icon>edit</mat-icon>
                </button>
                <button [disabled]="row.status == 'INATIVO'" mat-icon-button color="primary" (click) = "openModal(row.idDefensor, row.nomeDefensor)" aria-label="Remover Defensor">
                    <mat-icon>delete</mat-icon>
                </button>
              </td>
            </tr>
         </tbody>
    </table>
  <mat-paginator
    #paginator
    (page)="onPageChange($event)"
    [length]= "totalDefensores"
    [pageSize]= "pageSize"
    [pageIndex]="pageIndex"
    [pageSizeOptions]= "[10, 15, 20]"
    [showFirstLastButtons]>
  </mat-paginator>

</div>

