<mat-card>
    <div style="width: 550px; margin-left: 950px; font-size: small">
      <mat-card-title style="font-size: small"><b>Usuário: </b>{{ this.nomeLogado }}</mat-card-title>
    </div>
    <div style="height: 50px; margin-left: 20px;">
      <mat-card-title><b>Consulta de Auditorias</b></mat-card-title>
    </div>
    <div>
        <form>

            <mat-form-field appearance="outline" style="width: 550px; margin-left: 20px; margin-right: 30px;">
                <mat-label >Nome do Módulo</mat-label>
                <input matInput placeholder="Nome do Módulo" style="margin-right: 20px;" [(ngModel)]="auditoriaFiltro.nomeModulo" name="nomeModulo">
                <button mat-button *ngIf="auditoriaFiltro.nomeModulo" matSuffix aria-label="Clear" (click)="auditoriaFiltro.nomeModulo=''">
                    <i class="material-icons black v-middle">
                        close
                    </i>
                </button>
            </mat-form-field>

            <mat-form-field appearance="outline" style="width: 300px; margin-left: 20px; margin-right: 30px;">
              <mat-label >Usuário</mat-label>
              <input matInput placeholder="Usuário" style="margin-right: 20px;" [(ngModel)]="auditoriaFiltro.usuarioOperacao" name="usuarioOperacao">
              <button mat-button *ngIf="auditoriaFiltro.usuarioOperacao" matSuffix aria-label="Clear" (click)="auditoriaFiltro.usuarioOperacao=''">
                <i class="material-icons black v-middle">
                  close
                </i>
              </button>
            </mat-form-field>

            <mat-form-field appearance="outline" style="width: 250px; margin-left: 20px; margin-right: 30px;">
              <mat-label>Operação Realizada</mat-label>
              <mat-select [(value)]="operacaoSelecionada">
                <mat-option *ngFor="let operacao of operacaoOptions" [value]="operacao.id">
                  {{ operacao.nome }}
                </mat-option>
              </mat-select>
              <button mat-button *ngIf="operacaoSelecionada" matSuffix aria-label="Clear" (click)="operacaoSelecionada=''">
                <i class="material-icons black v-middle">
                  close
                </i>
              </button>
            </mat-form-field>

            <mat-form-field appearance="outline" style="width: 200px; margin-left: 20px; margin-right: 30px;">
              <input matInput [matDatepicker]="dtInicio" placeholder="Data Início Operacao" [(ngModel)]="auditoriaFiltro.dataInicioOperacao" name="dataInicioOperacao">
              <mat-datepicker-toggle matIconSuffix [for]="dtInicio"></mat-datepicker-toggle>
              <mat-datepicker #dtInicio></mat-datepicker>
            </mat-form-field>

            <mat-form-field appearance="outline" style="width: 200px; margin-left: 20px; margin-right: 30px;">
              <input matInput [matDatepicker]="dtFim" placeholder="Data Fim Operacao" [(ngModel)]="auditoriaFiltro.dataFimOperacao" name="dataFimOperacao">
              <mat-datepicker-toggle matIconSuffix [for]="dtFim"></mat-datepicker-toggle>
              <mat-datepicker #dtFim></mat-datepicker>
            </mat-form-field>

        </form>
    </div>
</mat-card>
<br>
<div class="btn-toolbar" style="float: right;">
    <div class="btn-group">
      <button color="primary" class="buttonConsultar" style="width: 200px; margin-left: 30px;" mat-raised-button (click) = "consultarAuditoriaComFiltros()">
        Consultar
      </button>
    </div>
    <div class="btn-group">
      <button style="width: 200px; background-color: #04AA6D;"  class="buttonVoltar" mat-raised-button (click) = "imprimirAuditoria()">
        Gerar Relatório
      </button>
    </div>
    <div class="btn-group">
      <button style="width: 200px; background-color: darkgray;"  class="buttonVoltar" mat-raised-button (click) = "voltarPaginaPrincipal()">
        Voltar
      </button>
    </div>
</div>
<br>
<br>
<br>
<div class="mat-elevation-z4">
    <table class="table table-striped table-hover" style="outline-color: black;">
         <thead style="background-color: gray;">
            <tr style="color: white;">
              <th style="text-align: left;">Nome Módulo</th>
              <th style="text-align: left;">Usuário Operação</th>
              <th style="text-align: center;">Operação</th>
              <th style="text-align: center;">Data da Operação</th>
            </tr>
         </thead>
         <tbody>
            <tr *ngFor="let row of auditorias | paginate: { itemsPerPage: pageSize, currentPage: pageIndex }">
              <td style="text-align: left;">{{row.nomeModulo}}</td>
              <td style="text-align: left;">{{row.usuarioOperacao}}</td>
              <td style="text-align: center;">{{row.operacao}}</td>
              <td style="text-align: center;">{{row.dataOperacao}}</td>
            </tr>
         </tbody>
    </table>
    <mat-paginator
      #paginator
      (page)="onPageChange($event)"
      [length]= "totalAuditorias"
      [pageSize]= "pageSize"
      [pageIndex]="pageIndex"
      [pageSizeOptions]= "[10, 15, 20]"
      [showFirstLastButtons]>
    </mat-paginator>

</div>

