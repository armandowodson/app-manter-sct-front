<mat-card>
    <div style="height: 50px; margin-left: 20px;">
      <mat-card-title><b>Consulta de Produtos</b></mat-card-title>
    </div>
    <div>
        <form>
            <mat-form-field appearance="outline" style="width: 550px; margin-left: 20px; margin-right: 30px;">
                <mat-label >Nome</mat-label>
                <input matInput placeholder="Nome" style="margin-right: 20px;" [(ngModel)]="product.nome" name="nome">
                <button mat-button *ngIf="product.nome" matSuffix aria-label="Clear" (click)="product.nome=''">
                    <i class="material-icons black v-middle">
                        close
                    </i>
                </button>
            </mat-form-field>

            <app-comum-sinal></app-comum-sinal>

            <mat-form-field appearance="outline" style="width: 200px; margin-right: 30px;">
                <mat-label>Preço (R$)</mat-label>
                <input matInput placeholder="Preço (R$)" (blur)="transformarMoeda($event)" [(ngModel)]="valorFormatado" name="preco">
                <button mat-button *ngIf="valorFormatado" matSuffix aria-label="Clear" (click)="valorFormatado=''">
                    <i class="material-icons black v-middle">
                        close
                    </i>
                </button>
            </mat-form-field>

            <app-comum-situacao></app-comum-situacao>

        </form>
    </div>
</mat-card>
<br>
<div class="btn-toolbar" style="float: right;">
    <div class="btn-group">
      <button color="primary" class="buttonConsultar" style="margin-left: 30px; margin-right: 30px;" mat-raised-button (click) = "consultarProdutosComFiltros()">
        Consultar
      </button>
    </div>
    <div class="btn-group">
        <button color="primary" class="buttonInserir" mat-raised-button (click) = "navegarInserirProduto()">
            Novo Produto
        </button>
    </div>
</div>
<br>
<br>
<br>
<div class="mat-elevation-z4">
    <table class="table table-striped table-hover" style="outline-color: black;">
         <thead style="background-color: gray;">
            <tr style="color: white;">
              <th style="text-align: left;">Nome</th>
              <th style="text-align: left;">Descrição</th>
              <th style="text-align: right;">Preço (R$)</th>
              <th style="text-align: right;">Situação</th>
              <th style="text-align: center;">Ações</th>
            </tr>
         </thead>
         <tbody>
            <tr *ngFor="let row of products | paginate: { itemsPerPage: contador, currentPage: page }">
              <td style="text-align: left;">{{row.nome}}</td>
              <td style="text-align: left;">{{row.descricao}}</td>
              <td style="text-align: right;">{{row.preco | currency:'BRL':true}}</td>

              <ng-container *ngIf="row.situacao == 1">
                <td style="text-align: right;">Ativo</td>
              </ng-container>
              <ng-container *ngIf="row.situacao == 2">
                <td style="text-align: right;">Inativo</td>
              </ng-container>

              <td style="text-align: center;">
                <button mat-icon-button color="primary" (click) = "navegarEditarProduto(row)" aria-label="Editar Produto">
                    <mat-icon>edit</mat-icon>
                </button>
                <button mat-icon-button color="primary" (click) = "openModal(row.idproduto, row.nome)" aria-label="Remover produto">
                    <mat-icon>delete</mat-icon>
                </button>
              </td>
            </tr>
         </tbody>
    </table>
    <div class="text-right" style="float: right;">
        <pagination-controls (pageChange)="handlePageChange($event)" previousLabel="Anterior" nextLabel="Próximo"></pagination-controls>
    </div>
</div>
